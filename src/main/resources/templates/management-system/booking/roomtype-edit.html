<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>create</title>
<link rel="stylesheet" th:href="@{/management-system/common/css/index.css}">
<link rel="stylesheet" th:href="@{/management-system/booking/css/booking.css}">
</head>
<body>
	<div class="container">
		<div th:replace="~{/management-system/common/sidebar}"></div>
		<div class="main-content">
			<div th:replace="~{/management-system/common/navbar}"></div>
			<form class="form" action="../update" method="post" enctype="multipart/form-data">
		        <div class="form-group">
		            <label for="roomtype-name">房間類型名稱 (輸入中文，至少四個)</label>
		            <input type="text" id="roomtype-name" name="roomtypeName" placeholder="輸入內容" th:value="${roomtype.roomtypeName}">
		        </div>
		
		        <div class="form-group">
		            <label for="price">房間類型價格</label>
		            <input type="number" id="roomtype-price" name="roomtypePrice" placeholder="輸入內容" th:value="${roomtype.roomtypePrice}">
		        </div>
		        
		        <div class="form-group">
		            <label for="price">房間類型數量</label>
		            <input type="number" id="roomtype-quantity" name="roomtypeQuantity" placeholder="輸入內容" th:value="${roomtype.roomtypeQuantity}" disabled>
		        </div>
		        
		        <div class="form-group">
					<label>上傳圖片</label>
					<div class="upload-container">
					    <label for="file-upload" class="custom-file-upload">
					      <i class="fas fa-cloud-upload-alt"></i> <!-- 上傳圖示 -->
					      選擇檔案
					    </label>
					    <input id="file-upload" name="imageFile" type="file" accept=".jpg, .png">
					    <p id="file-name" class="file-name">尚未選擇檔案</p>
					    <p class="upload-instruction">支持 JPG, PNG 檔案（最大 5MB）</p>
					</div>
				</div>
		
		        <div class="form-group">
		            <label for="description">房間類型介紹 (四個中文，至少八個字)</label>
		            <input type="text" id="description" name="roomtypeDescription" placeholder="輸入內容" th:value="${roomtype.roomtypeDescription}">
		        </div>
		
		        <div class="form-group">
		            <label for="select-city">縣市</label>
		            <select id="select-city" name="roomtypeCity"></select>
		        </div>
		        
		        <div class="form-group">
		            <label for="select-district">區域</label>
		            <select id="select-district" name="roomtypeDistrict"></select>
		        </div>
		        
		        <div class="form-group">
		            <label for="description">地址 (xx市xx區xx街xx號x樓)</label>
		            <input type="text" name="roomtypeAddress" placeholder="輸入內容" th:value="${roomtype.roomtypeAddress}">
		        </div>
				
		        <div class="form-group roomtype-capacity-group">
		            <div class="choose-roomtype-capacity">
			            <label class="radio-label">
			            	一人房
			                <input type="radio" name="roomtypeCapacity" value="1" th:checked="${roomtype.roomtypeCapacity} == '1'">
			            </label>
		            </div>
		            <div class="choose-roomtype-capacity">
			            <label class="radio-label">
			            	兩人房
			                <input type="radio" name="roomtypeCapacity" value="2" th:checked="${roomtype.roomtypeCapacity} == '2'">
			            </label>
		            </div>
		            <div class="choose-roomtype-capacity">
			            <label class="radio-label">
			            	三人房
			                <input type="radio" name="roomtypeCapacity" value="3" th:checked="${roomtype.roomtypeCapacity} == '3'">
			            </label>
		            </div>
	             	<div class="choose-roomtype-capacity">
			            <label class="radio-label">
			            	四人房
			                <input type="radio" name="roomtypeCapacity" value="4" th:checked="${roomtype.roomtypeCapacity} == '4'">
			            </label>
		            </div>
		            <div class="choose-roomtype-capacity">
			            <label class="radio-label">
			            	五人房
			                <input type="radio" name="roomtypeCapacity" value="5" th:checked="${roomtype.roomtypeCapacity} == '5'">
			            </label>
		            </div>
		        </div>
		
		        <div class="form-group">
		            <button type="submit" class="submit submit-edit" id="submit" style="background-color: #007bff;">保存</button>
		            <button type="button" class="cancel">取消</button>
		        </div>
		    </form>
		</div>
	</div>
	<script th:src="@{/management-system/common/js/taiwan_districts.js}"></script>
	<script th:src="@{/management-system/booking/js/form.js}"></script>
	<script th:src="@{/management-system/booking/js/booking.js}"></script>
	<script>
		let roomtypeCity = "[[${roomtype.roomtypeCity}]]";
		selectCity.value = roomtypeCity;
		
		data.find(location => location.name === roomtypeCity)?.districts.forEach(district => {
			let option = document.createElement("option");
			option.textContent = district.name;
			selectDistrict.appendChild(option);
		});
		
		selectDistrict.value = "[[${roomtype.roomtypeDistrict}]]";
	</script>
</body>
</html>
